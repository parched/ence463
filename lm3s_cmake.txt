set(CMAKE_SYSTEM_NAME Generic)

# flags for C an C++
set(COMMON_FLAGS "-mcpu=cortex-m3 -mthumb")

set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} ${COMMON_FLAGS}")
set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} ${COMMON_FLAGS}")

add_definitions(
	-DGCC_ARMCM3_LM3S102
	-Dinline=
	-DPACK_STRUCT_END=__attribute\(\(packed\)\)
	-DALIGN_STRUCT_END=__attribute\(\(aligned\(4\)\)\)
	-Dsprintf=usprintf
	-Dsnprintf=usnprintf
	-Dprintf=uipprintf
)

# set the linker script
set(CMAKE_EXE_LINKER_FLAGS "${CMAKE_EXE_LINKER_FLAGS} -Tstandalone.ld -nostartfiles")

